# Fix for CAP-155501

Okay, I've reviewed the provided C code snippet.  The Jira ticket indicates an infinite loop is occurring.  Based on the code, I can confirm the issue and propose a solution.

**Problem Identification:**

The code contains an infinite loop because the loop counter `i` is being *decremented* (`i--`) instead of *incremented* (`i++`) within the `while` loop. The condition `i < 5` is initially true (since `i` starts at 0), but `i--` makes `i` negative.  Therefore, the condition `i < 5` will *always* be true, leading to the infinite loop.

**Explanation of the Fix:**

To correct the behavior, we need to increment the value of `i` within the loop. This will eventually cause `i` to reach a value that makes the condition `i < 5` false, thereby terminating the loop.

**Proposed Fix (Code):**

```c
// FILE: test.c
#include <stdio.h>

int main() {
    int i = 0;
    while (i < 5) {
        printf("Iteration %d\n", i);
        i++;  // Changed from i-- to i++
    }
    return 0;
}
```

**Explanation of Changes:**

*   I replaced `i--;` with `i++;`. This simple change increments the value of `i` by 1 in each iteration of the loop.

**Why this works:**

1.  The loop starts with `i = 0`.
2.  The `while (i < 5)` condition is checked.  Since 0 is less than 5, the loop body executes.
3.  `printf("Iteration %d\n", i);` prints the current value of `i`.
4.  `i++;` increments `i`.
5.  Steps 2-4 are repeated until `i` becomes 5.
6.  When `i` is 5, the condition `i < 5` becomes false, and the loop terminates.

**Additional Considerations (Beyond the immediate fix):**

*   **Code Review:** Even seemingly simple code should be reviewed.  A fresh pair of eyes might have caught this obvious decrement-instead-of-increment error.
*   **Debugging:** The user should be encouraged to learn basic debugging techniques. Stepping through the code line by line with a debugger would have immediately revealed the problem.  Tools like GDB are invaluable for C development.
*   **Unit Testing:** While not always feasible for small snippets, writing unit tests can help catch these types of errors early. A test case could simply assert that the loop runs a finite number of times and that `i` has the expected value after the loop finishes.
*   **Compiler Warnings:** Make sure the user is compiling with appropriate warning levels.  While this particular error wouldn't necessarily be flagged by a standard warning, using flags like `-Wall -Wextra -Werror` can catch many common issues.

**Response to Jira Ticket:**

Subject: Re: Infinite loop in demo_1 repository (test.c)

Hi,

I've reviewed the code snippet in `test.c` and identified the cause of the infinite loop. The issue is that the loop counter `i` is being decremented (`i--`) instead of incremented (`i++`) within the `while` loop. This prevents the loop from ever terminating.

I've provided a corrected version of the code below:

```c
// FILE: test.c
#include <stdio.h>

int main() {
    int i = 0;
    while (i < 5) {
        printf("Iteration %d\n", i);
        i++;  // Changed from i-- to i++
    }
    return 0;
}
```

The `i++` change ensures that the value of `i` increases in each iteration, eventually causing the loop to terminate when `i` is no longer less than 5.

**For future reference:**

*   When writing loops, double-check that the loop condition is being updated in a way that will eventually lead to termination.
*   Consider using a debugger (like GDB) to step through your code line by line. This can help you identify the exact point where the program's behavior deviates from your expectations.
*   Ensure you're compiling with sufficient warning levels (e.g., `-Wall -Wextra -Werror` using GCC or Clang).

Please let me know if you have any questions or if this resolves the issue.

Thanks,

[Your Name]
Senior Developer
